"use strict";angular.module("angular-filepicker",[]);angular.module("angular-filepicker").service("filepickerService",filepickerService);function filepickerService($window){return $window.filepicker}filepickerService.$inject=["$window"];angular.module("angular-filepicker").provider("angularFilepicker",function(){this.$get=function(){console.log("get!");if(window.filepicker){return}var script_tag=doc.createElement("script");script_tag.type="text/javascript";script_tag.async=!0;script_tag.src=("https:"===doc.location.protocol?"https:":"http:")+"api.filepicker.io/"+(this.version||"v2")+"/filepicker.js";var s=doc.getElementsByTagName("script")[0];s.parentNode.insertBefore(script_tag,s);var fp={};fp._queue=[];var fns="pick,pickMultiple,pickAndStore,read,write,writeUrl,export,convert,store,storeUrl,remove,stat,setKey,constructWidget,makeDropPane".split(",");var make_tmp_fn=function(fname,queue){return function(){queue.push([fname,arguments])}};for(var i=0;i<fns.length;i++){fp[fns[i]]=make_tmp_fn(fns[i],fp._queue)}window.filepicker=fp;window.filepicker.setKey(this.key)};this.setKey=function(key){this.key=key};this.setVersion=function(version){this.version=version==="v1"?"v1":"v2"}});"use strict";angular.module("angular-filepicker").directive("filepicker",filepickerDirective);function filepickerDirective($rootScope,filepickerService){return{restrict:"A",scope:{onSuccess:"&"},link:function(scope,element,attrs){element.bind("change",function(event){event.preventDefault();scope.onSuccess({event:event.originalEvent});$rootScope.$apply()});filepickerService.constructWidget(element)}}}filepickerDirective.$inject=["$rootScope","filepickerService"];